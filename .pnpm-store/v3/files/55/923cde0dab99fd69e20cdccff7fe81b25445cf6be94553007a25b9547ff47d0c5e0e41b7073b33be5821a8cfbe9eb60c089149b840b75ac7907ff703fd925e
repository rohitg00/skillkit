// @bun
import {
  AppContext,
  baseComponents,
  componentCatalogue,
  createPortal,
  createRoot,
  extend,
  flushSync,
  getComponentCatalogue,
  useAppContext
} from "./chunk-j5j59zk3.js";
import"./chunk-e11q5a3p.js";
// src/hooks/use-keyboard.ts
import { useEffect } from "react";

// src/hooks/use-event.ts
import { useCallback, useLayoutEffect, useRef } from "react";
function useEffectEvent(handler) {
  const handlerRef = useRef(handler);
  useLayoutEffect(() => {
    handlerRef.current = handler;
  });
  return useCallback((...args) => {
    const fn = handlerRef.current;
    return fn(...args);
  }, []);
}

// src/hooks/use-keyboard.ts
var useKeyboard = (handler, options = { release: false }) => {
  const { keyHandler } = useAppContext();
  const stableHandler = useEffectEvent(handler);
  useEffect(() => {
    keyHandler?.on("keypress", stableHandler);
    if (options?.release) {
      keyHandler?.on("keyrelease", stableHandler);
    }
    return () => {
      keyHandler?.off("keypress", stableHandler);
      if (options?.release) {
        keyHandler?.off("keyrelease", stableHandler);
      }
    };
  }, [keyHandler, options.release]);
};
// src/hooks/use-renderer.ts
var useRenderer = () => {
  const { renderer } = useAppContext();
  if (!renderer) {
    throw new Error("Renderer not found.");
  }
  return renderer;
};
// src/hooks/use-resize.ts
import { useEffect as useEffect2 } from "react";
var useOnResize = (callback) => {
  const renderer = useRenderer();
  const stableCallback = useEffectEvent(callback);
  useEffect2(() => {
    renderer.on("resize", stableCallback);
    return () => {
      renderer.off("resize", stableCallback);
    };
  }, [renderer]);
  return renderer;
};
// src/hooks/use-terminal-dimensions.ts
import { useState } from "react";
var useTerminalDimensions = () => {
  const renderer = useRenderer();
  const [dimensions, setDimensions] = useState({
    width: renderer.width,
    height: renderer.height
  });
  const cb = (width, height) => {
    setDimensions({ width, height });
  };
  useOnResize(cb);
  return dimensions;
};
// src/hooks/use-timeline.ts
import { engine, Timeline } from "@opentui/core";
import { useEffect as useEffect3 } from "react";
var useTimeline = (options = {}) => {
  const timeline = new Timeline(options);
  useEffect3(() => {
    if (!options.autoplay) {
      timeline.play();
    }
    engine.register(timeline);
    return () => {
      timeline.pause();
      engine.unregister(timeline);
    };
  }, []);
  return timeline;
};
// src/index.ts
import { createElement } from "react";
export {
  useTimeline,
  useTerminalDimensions,
  useRenderer,
  useOnResize,
  useKeyboard,
  useAppContext,
  getComponentCatalogue,
  flushSync,
  extend,
  createRoot,
  createPortal,
  createElement,
  componentCatalogue,
  baseComponents,
  AppContext
};
